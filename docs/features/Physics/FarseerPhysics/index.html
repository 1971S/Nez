<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/Nez/blog/rss.xml" title="Nez Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Nez/blog/atom.xml" title="Nez Blog Atom Feed"><title data-react-helmet="true">Farseer Physics/Collisions | Nez</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Farseer Physics/Collisions | Nez"><meta data-react-helmet="true" name="description" content="For situations where you need a full-fledged physics simulation Nez provides the Farseer Physics Engine. Farseer physics is entirely optional and currently experimental/in development. The public API will change so beware. If you want to use Farseer you will need to add the Nez.FarseerPhysics project to your main solution and add a reference to it from your game project."><meta data-react-helmet="true" property="og:description" content="For situations where you need a full-fledged physics simulation Nez provides the Farseer Physics Engine. Farseer physics is entirely optional and currently experimental/in development. The public API will change so beware. If you want to use Farseer you will need to add the Nez.FarseerPhysics project to your main solution and add a reference to it from your game project."><meta data-react-helmet="true" property="og:url" content="https://prime31.github.io//Nez/docs/features/Physics/FarseerPhysics"><link data-react-helmet="true" rel="shortcut icon" href="/Nez/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://prime31.github.io//Nez/docs/features/Physics/FarseerPhysics"><link rel="stylesheet" href="/Nez/styles.56e41c30.css">
<link rel="preload" href="/Nez/styles.9c03ef0f.js" as="script">
<link rel="preload" href="/Nez/runtime~main.c006b934.js" as="script">
<link rel="preload" href="/Nez/main.8f73e1d6.js" as="script">
<link rel="preload" href="/Nez/1.6192793b.js" as="script">
<link rel="preload" href="/Nez/39.711284f4.js" as="script">
<link rel="preload" href="/Nez/40.e865d7c3.js" as="script">
<link rel="preload" href="/Nez/f976f453.784399da.js" as="script">
<link rel="preload" href="/Nez/38.147a7854.js" as="script">
<link rel="preload" href="/Nez/adcc1ea4.98097e10.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/Nez/"><img src="/Nez/img/logo.svg" alt="Nez Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/Nez/img/logo.svg" alt="Nez Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Nez/docs/">Docs</a><a class="navbar__item navbar__link" href="/Nez/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/prime31/Nez" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/Nez/"><img src="/Nez/img/logo.svg" alt="Nez Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/Nez/img/logo.svg" alt="Nez Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/Nez/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/Nez/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/prime31/Nez" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Docusaurus</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/about/Samples">Samples</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/getting-started/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/getting-started/FNACompat">FNA Compatibility</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nez/docs/features/Core">Nez Core</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nez/docs/features/ContentManagement">Content Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nez/docs/features/Tweening">Tweening</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nez/docs/features/RuntimeInspector">Runtime Inspector</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Graphics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/Graphics/Rendering">Rendering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/Graphics/DeferredLighting">Deferred Lighting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/Graphics/SVG">Nez SVG Support</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">UI</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/UI/NezUI">Nez UI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/UI/DearImGui">Dear IMGUI</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">AI</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/AI/Behavior">Behavior</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/AI/Pathfinding">Pathfinding</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Physics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nez/docs/features/Physics/NezPhysics">Nez Physics/Collisions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nez/docs/features/Physics/Verlet">Verlet Physics</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/Nez/docs/features/Physics/FarseerPhysics">Farseer Physics/Collisions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">ECS</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/ECS/SceneEntityComponentSystem">Scene/Entity/Component System</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/ECS/SceneTransitions">Scene Transitions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/ECS/EntitySystems">Entity Systems</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Farseer Physics/Collisions</h1></header><div class="markdown"><p>For situations where you need a full-fledged physics simulation Nez provides the Farseer Physics Engine. Farseer physics is entirely optional and currently experimental/in development. The public API will change so beware. If you want to use Farseer you will need to add the Nez.FarseerPhysics project to your main solution and add a reference to it from your game project.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="background-and-goals"></a>Background and Goals<a class="hash-link" href="#background-and-goals" title="Direct link to heading">#</a></h2><p><a href="https://farseerphysics.codeplex.com/" target="_blank" rel="noopener noreferrer">Farseer Physics Engine</a> is a C# port of the superb Box2D physics engine. The Farseer project was abandoned way back in 2013 but it still remains one of the most popular choices for MonoGame/FNA. Farseer covered almost all of the Box2D API and extended it providing a bunch of super useful tools, many not even physics specific (texture and polygon tools, for example).</p><p>Farseer (like most physics engines) operates in metric (kilo/meter/second) as opposed to pixel coordinates. This can make working directly with Farseer error prone. Every time you get or set data you have to convert to/from display/simulation units. The Nez high level API hides all of this and handles converting between display and simulation for you. When accessing the Farseer API directly it will not be converted for you. You can use the <code>FSConvert</code> static class to handle conversions via its <code>DisplayToSim</code> and <code>SimToDisplay</code> fields.</p><p>The Nez Farseer implementation has a few important goals that it aims to achieve:</p><ul><li>wrap the most commonly used Farseer features in easy to use Components. The Farseer API is low level. The high level Components will hide all of that complexity and make basic physics simple to use.</li><li>allow full access to the Farseer API for advanced users. It should be noted that the <a href="https://farseerphysics.codeplex.com/documentation" target="_blank" rel="noopener noreferrer">Farseer docs</a> are minimal and point users over to the <a href="http://box2d.org/documentation/" target="_blank" rel="noopener noreferrer">Box2D documentation</a>.</li><li>extend Farseer and add some new functionality to it (Kinematic collision detection!). All Farseer code will remain in the <code>FarseerPhysics</code> namespace and all Nez additions will be in the <code>Nez.Farseer</code> namespace.</li><li>provide most of the features Nez physics have. Nez physics lets you take full control over the movement/collision of a Collider. Physics engines like to control collision and response automatically. The <code>FarseerCollisions</code> class is already in place and lets you take control of collision and collision response just like with Nez Colliders. The <code>Mover</code> class and similar can all be done entirely with Farseer at this point.</li></ul><p>The Farseer code is all in progress and the API is definitely not in its final state. Usually this would be kept out of the main repo until the API is solidified but since Farseer is entirely optional all in-progress changes will be public. If you are itching to get going with Farseer for now you are mostly on your own. The high level API (and all Nez-specific additions) are available in the Nez.FarseerPhysics/Nez folder.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="using-farseer-with-nez"></a>Using Farseer with Nez<a class="hash-link" href="#using-farseer-with-nez" title="Direct link to heading">#</a></h2><p>First and foremost, you should always set your pixel-to-meter ratio before doing anything. By default, the value is set to 100. You can change this to whatever you want by calling <code>FSConvert.SetDisplayUnitToSimUnitRatio</code>. Behind the scenes, the high level API will be using this value to deal with converting to/from simulation units to pixels. If you choose to use the Farseer API directly be sure to remember to convert your units with the FSDebug <code>DisplayToSim</code> and <code>SimToDisplay</code> fields.</p><p>There are a couple options for using Farseer physics with Nez to provide some flexibility. Regardless of if you choose to use the Component-based high level API or use Farseer directly it is recommended to use the <code>FSWorld</code> <code>SceneComponent</code> to manage the Farseer <code>World</code> object. All of the the high level API will get the World object from the FSWorld SceneComponent. You can easily access it by just calling <code>Scene.GetOrCreateSceneComponent&lt;FSWorld&gt;()</code>. As the name implies, this will fetch the FSWorld SceneComponent or first create it then fetch it.</p><p>The <code>FSDebugView</code> Component can be added to your Scene to get a visual representation of the physics world. This is very handy for development and debugging of Farseer objects and it will work with the high or low level API.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="high-level-api"></a>High Level API<a class="hash-link" href="#high-level-api" title="Direct link to heading">#</a></h2><p>The high level API wraps up the Farseer API in standard Nez Components. Farseer Components come in 3 different flavors explained below each of them with a fluent API for configuring the objects for easy method chaining and API exploration.</p><ul><li><p><strong>FSRigidBody</strong>: wraps the Farseer Body. Handles keeping the Entity&#x27;s Transform in sync with the Farseer Body. FSRigidBody&#x27;s can be any of the three body types: Dynamic, Static or Kinematic (see Understanding Farseer Objects for details on each). An FSRigidBody is required for any of the other Farseer Components to be of any use.</p></li><li><p><strong>FSCollisionShape</strong>: wraps the Farseer Fixture and Shape objects. This is the physical shape of the collider. You can have 1 or more FSCollisionShapes on your Entity. Available FSCollisionShapes are circle, box, polygon, edge, ellipse and chain.</p></li><li><p><strong>FSJoint</strong>: wraps the Farseer Joint. Joints can be used to connect two FSRigidBodys in various different ways. Included joint types are: angle, distance, friction, gear, motor, mouse, prismatic, pulley, revolute (hinge), rope, weld and wheel.</p></li></ul><p>Lets take a look at some basic examples of using the API.</p><p>Creates a Sprite and a dynamic Farseer rigid body with a circle collider</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-csharp codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">// create an Entity and set the position and scale</span></div><div class="token-line" style="color:#393A34"><span class="token plain">CreateEntity( &quot;circle-sprite&quot; )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .SetPosition( pos )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .SetScale( scale )</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // add an FSRigidBody and set the bodyType to dynamic</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .AddComponent&lt;FSRigidBody&gt;()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .SetBodyType( BodyType.Dynamic )</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // add a circle shape for our collisions and set the radius to halve the texture width</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .AddComponent&lt;FSCollisionCircle&gt;()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .SetRadius( texture.Width / 2 )</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // finally add a Sprite</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .AddComponent( new Sprite( texture ) );</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Creates a static Farseer rigid body and an edge collider that goes from vert1 to vert2</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-csharp codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">CreateEntity( &quot;edge&quot; )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .SetPosition( pos )</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // add the FSRigidBody. By default it will be static</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .AddComponent&lt;FSRigidBody&gt;()</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // add our edge collision shape with two verts</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .AddComponent&lt;FSCollisionEdge&gt;()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .SetVertices( vert1, vert2 );</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Creates a static Farseer rigid body with a chain collider. Chains are essentially a free form sequence of line segments that can be collided with from either side.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-csharp codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">// define the verts. The Vertices class has the sme API as List&lt;Vector2&gt;.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">var verts = new Vertices();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">verts.Add( new Vector2( 500, 10 ) );</span></div><div class="token-line" style="color:#393A34"><span class="token plain">verts.Add( new Vector2( 550, 50 ) );</span></div><div class="token-line" style="color:#393A34"><span class="token plain">verts.Add( new Vector2( 600, 70) );</span></div><div class="token-line" style="color:#393A34"><span class="token plain">verts.Add( new Vector2( 700, 20 ) );</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">createEntity( &quot;chain&quot; )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // add our static FSRigidBody</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .AddComponent&lt;FSRigidBody&gt;()</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // add the chain shape and set the verts</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .AddComponent&lt;FSCollisionChain&gt;()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .SetVertices( verts );</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>This example shows how to use a joint to connect two FSRigidBodies. It is assumed that rigidBody1 and rigidBody2 exist and are FSRigidBodies.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-csharp codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">// add the weld joint to the first rigid body. Weld joints essentially glues two bodies together.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">rigidBody1.AddComponent&lt;FSWeldJoint&gt;()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         // configure the anchors for the two bodies. Anchors are relative to the position of each body.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         .SetOtherBodyAnchor( new Vector2( 50, 0 ) )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         .SetOwnerBodyAnchor( new Vector2( -50, 50 ) )</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         // configure the frequency and damping ratio</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         .SetFrequencyHz( 5 )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         .SetDampingRatio( 0.1f )</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         // set the second FSRigidBody for the joint</span></div><div class="token-line" style="color:#393A34"><span class="token plain">         .SetOtherBody( rigidBody2 );</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Finally lets take a look at creating a slightly more complex collision shape.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-csharp codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">var vertList = new List&lt;Vertices&gt;();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">// fill vertList with some polygon vertices</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">// create and configure our standard rigid body</span></div><div class="token-line" style="color:#393A34"><span class="token plain">var rb = CreateEntity( &quot;compound-polygon&quot; )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .SetPosition( pos )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .AddComponent&lt;FSRigidBody&gt;()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    .SetBodyType( BodyType.Dynamic );</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">// add an FSCollisionPolygon for each of the vert Lists</span></div><div class="token-line" style="color:#393A34"><span class="token plain">foreach( var verts in vertList )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    rb.AddComponent&lt;FSCollisionPolygon&gt;()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      .SetVertices( verts );</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="low-level-api"></a>Low Level API<a class="hash-link" href="#low-level-api" title="Direct link to heading">#</a></h2><p>The low level API provides a small number of Components that handle syncing the Nez Transform with the Farseer Body. These can be used to get up and running quickly but they are more here to be used as a template so that you can create your own custom subclasses.</p><ul><li><p><strong>FSGenericBody</strong>: manages the Farseer Body (and provides public access to it) and syncs it with the Nez Transform. That&#x27;s about all you get with it. To make adding collision shapes and joints easier there are a pile of extension methods on the Body class. They all take care of converting from pixel space to simulation space as well.</p></li><li><p><strong>FSRenderableBody</strong>: manages the Farseer Body and syncs it with the Nez Transform. Where it differs from the <code>FSGenericBody</code> is that there are some subclasses that are instantly useable: <code>FSBoxBody</code>, <code>FSCircleBody</code>, <code>FSPolygonBody</code> and <code>FSCompoundPolygonBody</code>. These Components all take in a Texture2D/Sprite and create the Farseer Body, Fixture and Shape for you. They also handle rendering as well. <code>FSCompoundPolygonBody</code> will generate the collision shape based on the texture which can be really handy.</p></li></ul><p>There are a few helpers available to make working with Farseer&#x27;s API more convenient. The <code>Body</code> class has a bunch of extension methods for adding Fixtures and Joints that all let you use standard Nez pixel coordinates (as opposed to having to convert everything to Farseer simulation units). If you want to skip out completely on the <code>FSGenericBody</code> and <code>FSRenderableBody</code> classes and use Farseer directly you can use the <code>Nez.Farseer.BodyFactory</code> to create Farseer Bodies all in Nez pixel coordinates.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="understanding-farseer-objects"></a>Understanding Farseer Objects<a class="hash-link" href="#understanding-farseer-objects" title="Direct link to heading">#</a></h3><p>Farseer consists of a few key objects that are paramount to understanding the API and being able to effectively use it.</p><ul><li><p><strong>World</strong>: the world object is the manager of it all. It iterates all the objects in the world each frame steps through and makes sure everything is consistent and stable.</p></li><li><p><strong>Body</strong>: the body keeps track of world position. It is basically a point is space that is affected by forces such as impulses from collisions and gravity. Bodies come in 3 different flavors (Body.BodyTypes) that drastically effect how they work in the physics world.</p><ul><li><em>Dynamic</em>: objects which move around and are affected by forces and other dynamic, kinematic and static objects. Dynamic bodies are suitable for any object which needs to move and be affected by forces.</li><li><em>Static</em>: objects which do not move and are not affected by forces. Dynamic bodies are affected by static bodies. Static bodies are perfect for ground, walls, and any object which does not need to move. Static bodies require less computing power.</li><li><em>Kinematic</em>: objects that are somewhat in between static and dynamic bodies. Like static bodies, they do not react to forces, but like dynamic bodies, they do have the ability to move. Kinematic bodies are great for things where you want to be in full control of a body&#x27;s motion. Nez extends Kinematic bodies with some added features that are not part of Farseer/Box2D. More on that later.</li></ul></li><li><p><strong>Shape</strong>: a shape is what extends the point in space to a 2D shape. The centroid and stuff like area, inertia and mass is calculated for the shape.</p></li><li><p><strong>Fixture</strong>: a fixture attaches (fixes) the shape to the body so that the centroid of the shape becomes the bodyâ€™s position. Whenever you move the body, you also move the shape. Once a collision occurs to the shape, the force is calculated and applied to the body.</p></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/prime31/Nez/edit/master/Nez.github.io/docs/features/Physics/FarseerPhysics.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Nez/docs/features/Physics/Verlet"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Verlet Physics</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Nez/docs/features/ECS/SceneEntityComponentSystem"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Scene/Entity/Component System Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#background-and-goals" class="table-of-contents__link">Background and Goals</a></li><li><a href="#using-farseer-with-nez" class="table-of-contents__link">Using Farseer with Nez</a></li><li><a href="#high-level-api" class="table-of-contents__link">High Level API</a></li><li><a href="#low-level-api" class="table-of-contents__link">Low Level API</a><ul><li><a href="#understanding-farseer-objects" class="table-of-contents__link">Understanding Farseer Objects</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/Nez/docs/">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/Nez/docs/features/core">Features</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/fuNrR4jF5Z" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/prime_31" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/Nez/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/prime31/Nez" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Prime31, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/Nez/styles.9c03ef0f.js"></script>
<script src="/Nez/runtime~main.c006b934.js"></script>
<script src="/Nez/main.8f73e1d6.js"></script>
<script src="/Nez/1.6192793b.js"></script>
<script src="/Nez/39.711284f4.js"></script>
<script src="/Nez/40.e865d7c3.js"></script>
<script src="/Nez/f976f453.784399da.js"></script>
<script src="/Nez/38.147a7854.js"></script>
<script src="/Nez/adcc1ea4.98097e10.js"></script>
</body>
</html>