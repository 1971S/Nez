<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/Nez/blog/rss.xml" title="Nez Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Nez/blog/atom.xml" title="Nez Blog Atom Feed"><title data-react-helmet="true">Scene/Entity/Component System | Nez</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Scene/Entity/Component System | Nez"><meta data-react-helmet="true" name="description" content="Most of Nez revolves around an Entity-Component system (ECS). The Nez ECS is not unlike any other ECS you may have worked with so it should be instantly familiar."><meta data-react-helmet="true" property="og:description" content="Most of Nez revolves around an Entity-Component system (ECS). The Nez ECS is not unlike any other ECS you may have worked with so it should be instantly familiar."><meta data-react-helmet="true" property="og:url" content="https://prime31.github.io//Nez/docs/features/ECS/SceneEntityComponentSystem"><link data-react-helmet="true" rel="shortcut icon" href="/Nez/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://prime31.github.io//Nez/docs/features/ECS/SceneEntityComponentSystem"><link rel="stylesheet" href="/Nez/styles.56e41c30.css">
<link rel="preload" href="/Nez/styles.0647a974.js" as="script">
<link rel="preload" href="/Nez/runtime~main.3558cae6.js" as="script">
<link rel="preload" href="/Nez/main.f99517a3.js" as="script">
<link rel="preload" href="/Nez/1.bd138d3b.js" as="script">
<link rel="preload" href="/Nez/40.4afef369.js" as="script">
<link rel="preload" href="/Nez/41.3d956691.js" as="script">
<link rel="preload" href="/Nez/f976f453.04496c64.js" as="script">
<link rel="preload" href="/Nez/39.67f46d32.js" as="script">
<link rel="preload" href="/Nez/9fa58964.0136040e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/Nez/"><img src="/Nez/img/logo.svg" alt="Nez Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/Nez/img/logo.svg" alt="Nez Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Nez/docs/">Docs</a><a class="navbar__item navbar__link" href="/Nez/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/prime31/Nez" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/Nez/"><img src="/Nez/img/logo.svg" alt="Nez Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/Nez/img/logo.svg" alt="Nez Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/Nez/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/Nez/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/prime31/Nez" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Docusaurus</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/about/Samples">Samples</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/getting-started/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/getting-started/FNACompat">FNA Compatibility</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nez/docs/features/Core">Nez Core</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nez/docs/features/ContentManagement">Content Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nez/docs/features/RuntimeInspector">Runtime Inspector</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Utils</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/Utils/Tweening">Tweening</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/Utils/Collections">Collections</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Graphics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/Graphics/Rendering">Rendering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/Graphics/DeferredLighting">Deferred Lighting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/Graphics/SVG">Nez SVG Support</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">UI</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/UI/NezUI">Nez UI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/UI/DearImGui">Dear IMGUI</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">AI</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/AI/Behavior">Behavior</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/AI/Pathfinding">Pathfinding</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Physics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/Physics/NezPhysics">Nez Physics/Collisions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/Physics/Verlet">Verlet Physics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/Physics/FarseerPhysics">Farseer Physics/Collisions</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">ECS</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/Nez/docs/features/ECS/SceneEntityComponentSystem">Scene/Entity/Component System</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nez/docs/features/ECS/SceneTransitions">Scene Transitions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nez/docs/features/ECS/EntitySystems">Entity Systems</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Scene/Entity/Component System</h1></header><div class="markdown"><p>Most of Nez revolves around an Entity-Component system (ECS). The Nez ECS is not unlike any other ECS you may have worked with so it should be instantly familiar.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="scene"></a>Scene<a class="hash-link" href="#scene" title="Direct link to heading">#</a></h2><p>The root of the ECS. Scenes can be thought of as the different parts of your game such as the menu, levels, credits, etc. Scenes manage a list of Entities, Renderers and PostProcessors (via add/remove methods) and call their methods at the appropriate times. You can also use the Scene to locate Entities via the <code>FindEntity</code> and <code>FindEntitiesByTag</code> methods. Scenes are also created with a Camera that you can choose to use or not.</p><p>Scene&#x27;s provide a <code>NezContentManager</code> in <code>Scene.contentManager</code> that you can use to load up scene-specific content. When the scene is finished the content will be unloaded automatically for you. If you need to load global content (anything that would be used by several scenes) you can use the <code>Core.contentManager</code> which is not ever explicitly unloaded.</p><p>A Scene can contain a special kind of Component called a <code>SceneComponent</code>. SceneComponents are managed via the <code>Add</code>, <code>Get</code>, <code>GetOrCreate</code> and <code>RemoveSceneComponent</code> methods. A <code>SceneComponent</code> can be thought of as a simplified Component. It contains a small amount of lifecycle methods that are overrideable (<code>OnEnabled</code>, <code>OnDisabled</code>, <code>Update</code> and <code>OnRemovedFromScene</code>). These can be used when you need an object that lives at the <code>Scene</code> level but does not require an <code>Entity</code> container. One example included with Nez is the Farseer world object which manages the physics simulation.</p><p>Nez provides several different ways to get your final scene rendered flexibly and efficiently. It uses a concept called <code>SceneResolutionPolicy</code> to manage how things are rendered. The <code>SceneResolutionPolicy</code> along with the design time width/height that you set decides what size the RenderTarget2D should be and how it changes when the window size changes. Several SceneResolutionPolicys also include pixel perfect variants for use with pixal art games. Pixel perfect variants may end up with letter/pillar boxing which you can control via the <strong>Scene.LetterboxColor</strong>. You can set the default <code>SceneResolutionPolicy</code> used for all scenes by calling <strong>Scene.SetDefaultDesignResolution</strong>. The included SceneResolutionPolicys are below:</p><ul><li><strong>None</strong>: Default. RenderTarget2D matches the sceen size</li><li><strong>ExactFit</strong>: The entire application is visible in the specified area without trying to preserve the original aspect ratio. Distortion can occur, and the application may appear stretched or compressed.</li><li><strong>NoBorder</strong>: The entire application fills the specified area, without distortion but possibly with some cropping, while maintaining the original aspect ratio of the application.</li><li><strong>NoBorderPixelPerfect</strong>: Pixel perfect version of NoBorder. Scaling is limited to integer values.</li><li><strong>ShowAll</strong>: The entire application is visible in the specified area without distortion while maintaining the original aspect ratio of the application. Borders can appear on two sides of the application.</li><li><strong>ShowAllPixelPerfect</strong>: Pixel perfect version of ShowAll. Scaling is limited to integer values.</li><li><strong>FixedHeight</strong>: The application takes the height of the design resolution size and modifies the width of the internal canvas so that it fits the aspect ratio of the device. No distortion will occur, however you must make sure your application works on different aspect ratios</li><li><strong>FixedHeightPixelPerfect</strong>: Pixel perfect version of FixedHeight. Scaling is limited to integer values.</li><li><strong>FixedWidth</strong>: The application takes the width of the design resolution size and modifies the height of the internal canvas so that it fits the aspect ratio of the device. No distortion will occur, however you must make sure your application works on different aspect ratios</li><li><strong>FixedWidthPixelPerfect</strong>: Pixel perfect version of FixedWidth. Scaling is limited to integer values.</li><li><strong>BestFit</strong>: The application takes the width and height that best fits the design resolution with optional cropping inside of the &quot;bleed area&quot; and possible letter/pillar boxing. Works just like ShowAll except with horizontal/vertical bleed (padding). Gives you an area much like the old TitleSafeArea. Example: if design resolution is 1348x900 and bleed is 148x140 the safe area would be 1200x760 (design resolution - bleed).</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="entity"></a>Entity<a class="hash-link" href="#entity" title="Direct link to heading">#</a></h2><p>Entities are added/removed to/from the Scene and managed by it. You can either subclass Entity or just create an Entity instance and add any required Components to it (via <strong>AddComponent</strong> and later retrieved via <strong>GetComponent</strong>). On their most basic level Entities can be thought of as a container for Components. Entities have a series of methods that are called by the Scene at various times throughout their lifetime.</p><p>Entity Lifecycle methods:</p><ul><li><strong>OnAddedToScene</strong>: called when the entity is added to a scene after all pending entity changes are committed</li><li><strong>OnRemovedFromScene</strong>: called when the entity is removed from a scene</li><li><strong>Update</strong>: called each frame as long as the Entity is enabled</li><li><strong>DebugRender</strong>: called if Core.debugRenderEnabled is true by the default renderers. Custom renderers can choose to call it or not. The default implementation calls debugRender on all Components and the attached Colliders if there are any</li></ul><p>Some of the key/important properties on an Entity are the following:</p><ul><li><strong>UpdateOrder</strong>: controls the order of Entities. This affects the order in which update is called on each Entity as well as the order of the tag lists.</li><li><strong>Tag</strong>: use this however you want to. It can later be used to query the scene for all Entities with a specific tag (<strong>Scene.FindEntitiesByTag</strong>).</li><li><strong>Colliders</strong>:  the Colliders managed by this Entity. Adding any Colliders automatically registers the Collider with the Physics system.</li><li><strong>UpdateInterval</strong>: specifies how often this Entities update method should be called. 1 means every frame, 2 is every other, etc</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="component"></a>Component<a class="hash-link" href="#component" title="Direct link to heading">#</a></h2><p>Components are added to and managed by an Entity. They make up the meat of your game and are basically reuseable chunks of code that decide how your Entities will behave. Several Component subclasses are included with Nez including text display, image display, animated sprites, Tiled maps and more.</p><p>Component Lifecycle methods:</p><ul><li><strong>Initialize</strong>: called when the Component is created and the Entity field is assigned but before onAddedToEntity</li><li><strong>OnAddedToEntity</strong>: called when the Component is added to an entity after all pending component changes are committed</li><li><strong>OnRemovedFromEntity</strong>:  called when the component is removed from its entity. Do all cleanup here.</li><li><strong>OnEntityPositionChanged</strong>: called when the entity&#x27;s position changes. This allows components to be aware that they have moved due to the parent entity moving.</li><li><strong>Update</strong>: called each frame as long as the Entity and Component are enabled and the Component implements IUpdatable</li><li><strong>DebugRender</strong>: conditionally called. See Entity section for details. It can be disabled by setting <code>debugRenderEnabled</code> to false for something that should be excluded from debug render</li><li><strong>OnEnabled</strong>: called when the parent Entity or the Component is enabled</li><li><strong>OnDisabled</strong>: called when the parent Entity or the Component is disabled</li></ul><p>It is worth mentioning the <code>RenderableComponent</code> abstract Component subclass here. <code>RenderableComponent</code> is a special kind of component that has a <code>Render</code> method that is called by a Renderer. RenderableComponent handles a lot of dirtywork automatically (such as managing the bounds for culling) and includes a bunch of handy methods and properties pertaining to display. Have a look at the included RenderableComponent subclasses for examples of how they work.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="materials"></a>Materials<a class="hash-link" href="#materials" title="Direct link to heading">#</a></h2><p>Each <code>RenderableComponent</code> has an optional <code>Material</code>. The material lets you set per-renderable details such as the BlendState (Alpha by default), DepthStencilState (None by default), SamplerState (PointClamp by default) and Effect (null by default).</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/prime31/Nez/edit/master/Nez.github.io/docs/features/ECS/SceneEntityComponentSystem.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Nez/docs/features/Physics/FarseerPhysics"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Farseer Physics/Collisions</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Nez/docs/features/ECS/SceneTransitions"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Scene Transitions Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#scene" class="table-of-contents__link">Scene</a></li><li><a href="#entity" class="table-of-contents__link">Entity</a></li><li><a href="#component" class="table-of-contents__link">Component</a></li><li><a href="#materials" class="table-of-contents__link">Materials</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/Nez/docs/">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/Nez/docs/features/core">Features</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/fuNrR4jF5Z" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/prime_31" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/Nez/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/prime31/Nez" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Prime31, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/Nez/styles.0647a974.js"></script>
<script src="/Nez/runtime~main.3558cae6.js"></script>
<script src="/Nez/main.f99517a3.js"></script>
<script src="/Nez/1.bd138d3b.js"></script>
<script src="/Nez/40.4afef369.js"></script>
<script src="/Nez/41.3d956691.js"></script>
<script src="/Nez/f976f453.04496c64.js"></script>
<script src="/Nez/39.67f46d32.js"></script>
<script src="/Nez/9fa58964.0136040e.js"></script>
</body>
</html>